<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Klix</title>
	
	<script type="text/javascript" src="js/phaser.min.js"></script>	
	<script type="text/javascript" src="js/Splash.js"></script>
	<script type="text/javascript" src="js/Win.js"></script>
	<script type="text/javascript" src="js/lose.js"></script>
	<script type="text/javascript" src="js/Menu.js"></script>
	<script type="text/javascript" src="js/HowToPlay.js"></script>
    <script type="text/javascript" src="js/HighScores.js"></script>
    <script type="text/javascript" src="js/HighScoresInput.js"></script>
    <script type="text/javascript" src="js/Credits.js"></script>
    <script type="text/javascript" src="js/Game.js"></script>
    <script type="text/javascript" src="js/SpaceShip.js"></script>
    <script type="text/javascript" src="js/Asteroid.js"></script>
    <script type="text/javascript" src="js/Ufo.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
        @font-face {
 	   		font-family: 'Vector Battle';
    		src: url('assets/fonts/VectorB.ttf');
		}	
		@font-face {
 	   		font-family: 'Arcade Interlaced';
    		src: url('assets/fonts/ARCADE_I.ttf');
		}
		div{
			font-family:'Arcade Interlaced';
			font-size: 28px;
		}
		canvas {
    		padding-left: 0;
    		padding-right: 0;
    		margin-left: auto;
    		margin-right: auto;
    		display: block;
		}
    </style>
</head>
<body>
<div id="game"></div>
<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'game', { preload: preload, create: create, update: update, render:render});//
var score = null;

var gameScene = null;
var splashScene = null;
game.state.add('menu', Menu);
game.state.add('game', Game);
game.state.add('howToPlay', HowToPlay);
game.state.add('highScore', HighScore);
game.state.add('Win', Win);
game.state.add('lose', Lose);
game.state.add('highScoreInput', HighScoreInput);
game.state.add('credits', Credits);

function preload()
{
	game.load.atlas('sprites', 'assets/spritesheets/sprites.png', 'assets/spritesheets/sprites.json');
	//game.load.atlas('asteroids', 'assets/spritesheets/AsteroidsSpriteSheet.png', 'assets/spritesheets/AsteroidsSpriteSheet.json');
	//game.load.atlas('shoots', 'assets/spritesheets/spriteSchips.png', 'assets/spritesheets/spriteSchips.json');
	//game.load.atlas('ships', 'assets/spritesheets/SpaceShips.png', 'assets/spritesheets/SpaceShips.json');
	//game.load.image('largeasteroids', 'assets/images/asteroid1_25-60.png');
	game.load.image('tiled1','assets/images/Tiled1.png');
	game.load.image('tiled2','assets/images/Tiled2.png');
	game.load.image('alert','assets/images/alert.png');
	//game.load.image('res','assets/images/res.png');
	//game.load.image('laser','assets/images/laser_5-2.png');
	//game.load.image('ship','assets/tests/nave-azul.png');
	//game.load.image('shipalt','assets/images/nave1.png');
    game.load.audio('thrust', 'assets/audios/AsteroidsThrust.mp3');
    game.load.audio('shoot', 'assets/audios/AsteroidsShoot.mp3');
    game.load.audio('ufo', 'assets/audios/AsteroidsSaucer.mp3');
    game.load.audio('tick1', 'assets/audios/tick1.wav');
    game.load.audio('tick2', 'assets/audios/tick2.wav');
    game.load.audio('siren', 'assets/audios/siren.wav');
    game.load.audio('bang1', 'assets/audios/bangMedium.wav');
    game.load.audio('bang2', 'assets/audios/bangSmall.wav');
    setHighScore();
    var keyFull = this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER);
	keyFull.onDown.add(function(){
		if(!game.stage.scale.isFullScreen){
			game.stage.fullScreenScaleMode = Phaser.StageScaleMode.EXACT_FIT;		
			game.stage.scale.startFullScreen();
		}else{
			game.stage.scale.stopFullScreen();
		}
	}, this);
    
	splashScene = new Splash(game);
	splashScene.preload();
	//gameScene = new Game(game);
}

function create()
{
	game.stage.scale.maxWidth = 800;
	game.stage.scale.setExactFit();
	game.stage.scale.refresh()
	splashScene.create();
	//gameScene.create()
}

function update() 
{
	//gameScene.update();
}

function setHighScore()
{
    if (typeof localStorage["scores"] == "undefined") {
        localStorage["score1"] = 0;
        localStorage["score2"] = 0;
        localStorage["score3"] = 0;
        localStorage["score4"] = 0;
        localStorage["score5"] = 0;
        localStorage["nameScore1"] = "";
        localStorage["nameScore2"] = "";
        localStorage["nameScore3"] = "";
        localStorage["nameScore4"] = "";
        localStorage["nameScore5"] = "";
        localStorage["scores"] = "OK";
    }
}

function render(){
	//gameScene.render();
}

document.documentElement.addEventListener('keydown', function (e) {
    if ( ( e.keycode || e.which ) == 32) {
        e.preventDefault();
    }
    if ( ( e.keycode || e.which ) == 38) {
        e.preventDefault();
    }
    if ( ( e.keycode || e.which ) == 40) {
        e.preventDefault();
    }
}, false);
</script>
<div>
<center>
<h3>Desenvolvedores:</h3>
<a href = 'https://www.facebook.com/matheus.palhetabarbosa'>Matheus Palheta</a><br>
<a href = 'https://www.facebook.com/lpsolidsnake'>Anderson Lima</a><br>
<h3>Orientador:</h3>
<a href = 'https://www.facebook.com/jucimar.jr'>Jucimar Jr.</a>
</center>

</div>
</body>

</html>